<navigation-bar title="定时" back="{{true}}" color="white" background="#1E90FF"></navigation-bar>
<view class="page-container">
  <!-- 状态提示区域 -->
  <view class="status-tip {{statusTip ? 'show' : ''}}" wx:if="{{statusTip}}">
    {{statusTip}}
  </view>

  <!-- 定时列表 -->
  <view class="timer-list" wx:if="{{timerList.length > 0}}">
    <view class="timer-item" wx:for="{{timerList}}" wx:key="id">
      <view class="timer-info" bindtap="editTimer" data-index="{{index}}">
        <view class="timer-icon">
          <text class="icon-timer">⏰</text>
        </view>
        <view class="timer-details">
          <view class="timer-time">{{item.startTime}} ~ {{item.endTime}}</view>
          <view class="timer-name">{{item.name}}</view>
          <view class="timer-repeat">{{item.repeatText}}</view>
        </view>
      </view>
      <view class="timer-actions">
        <view class="delete-btn" catchtap="deleteTimer" data-index="{{index}}">
          <text class="delete-icon">🗑</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:else>
    <view class="empty-text">暂无内容，请先添加定时哦～</view>
  </view>

  <!-- 使用说明 -->
  <view class="tips-section">
    <view class="tips-title">
      <text class="tip-icon">💡</text>
      <text>使用说明</text>
    </view>
    <view class="tips-content">
      <view class="tips-item">
        <text class="tip-bullet">•</text>
        <text class="tip-text">点击列表可修改定时，点击🗑删除定时</text>
      </view>
      <view class="tips-item">
        <text class="tip-bullet">•</text>
        <text class="tip-text">设备最多支持10个分组定时</text>
      </view>
      <view class="tips-item">
        <text class="tip-bullet">•</text>
        <text class="tip-text">设置完成后在时控开关页面切换到分组定时模式即可生效</text>
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-actions">
    <view class="action-btn add-btn" bindtap="addTimer">添加定时</view>
    <view class="action-btn save-btn" bindtap="saveAndReturn">保存</view>
  </view>
</view> 